CMAKE_MINIMUM_REQUIRED(VERSION 2.8)
PROJECT(itools)

SET(CMAKE_C_STANDARD 11)
SET(CMAKE_CXX_STANDARD 11)
SET(CMAKE_C_FLGAS "-fPIC")
SET(CMAKE_CXX_FLGAS "-fPIC")

SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/build/lib)
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/build/lib)
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/build/bin)
SET(CMAKE_INSTALL_PREFIX "/")
SET(ITOOLS_INSTALL_CONF_DIR usr/local/itools/conf)
SET(ITOOLS_INSTALL_LIB_DIR usr/local/itools/lib)
SET(ITOOLS_INSTALL_BIN_DIR usr/local/itools/bin)

FIND_PACKAGE(jsoncpp REQUIRED)
FIND_PACKAGE(gflags REQUIRED)
# FIND_PACKAGE(Glog REQUIRED)
FIND_PACKAGE(Protobuf REQUIRED)
FIND_PACKAGE(GTest REQUIRED)

INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR}/proto)

ADD_SUBDIRECTORY(conf)
ADD_SUBDIRECTORY(proto)
ADD_SUBDIRECTORY(common)
ADD_SUBDIRECTORY(com/base)
ADD_SUBDIRECTORY(com/math)